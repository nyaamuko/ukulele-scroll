/* === v9: フィンガーボード（弦＋フレット1F〜10F）＋コード色＋NOW/NEXT === */

.laneGrid{
  display:flex !important;
  flex-direction:column !important;
  gap: 14px !important;
}

/* レーンは透明（BOX感を消す） */
.lane.lane--strip{
  position: relative;
  height: 92px;
  overflow: hidden;
  border: none !important;
  background: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;
}

/* 弦の横線 */
.lane.lane--strip::before{
  content:"";
  position:absolute;
  left: 18px;
  right: 12px;
  top: 50%;
  height: 2px;
  transform: translateY(-50%);
  background: rgba(255,255,255,.30);
  pointer-events:none;
}

/* フレット縦線（等間隔）※強制 */
.lane.fretGrid{
  background-image:
    linear-gradient(to right, rgba(255,255,255,.18) 1px, rgba(255,255,255,0) 1px) !important;
  background-repeat: repeat !important;
  /* (100% - 80px) を 11分割 ＝ 1F〜10Fが見える間隔 */
  background-size: calc((100% - 80px) / 11) 100% !important;
  background-position: 44px 0 !important;
}

/* 判定ライン（左端） */
.lane.lane--strip::after{
  content:"";
  position:absolute;
  left: 26px;
  top: 0;
  bottom: 0;
  width: 2px;
  background: rgba(255,255,255,.28);
  pointer-events:none;
}

/* 「今弾いて」状態の時、判定ラインも光る */
.laneGrid.nowReady .lane.lane--strip::after{
  background: rgba(160,220,255,.75);
  box-shadow: 0 0 14px rgba(120,210,255,.60);
}

/* 指〇 */
.fingerDot{
  position:absolute;
  top: 50%;
  left: 0;
  width: 56px;
  height: 56px;
  border-radius: 999px;
  transform: translateY(-50%);
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(10,10,12,.78);
  border: 2px solid rgba(255,255,255,.20);
  box-shadow: 0 10px 24px rgba(0,0,0,.22);
  z-index: 6;
  user-select:none;
  -webkit-user-select:none;
  will-change: transform;
}

.fingerDot .fingerChar{
  font-size: 20px;
  font-weight: 900;
  letter-spacing: .02em;
}

/* 判定ラインに来たら光る（各指が個別に光る） */
.fingerDot.ready{
  box-shadow: 0 0 0 6px rgba(80,200,255,.20), 0 0 20px rgba(80,200,255,.45);
}

/* 成功/失敗の残像 */
.fingerDot.hit{ opacity: .35; }
.fingerDot.miss{ opacity: .18; filter: grayscale(1); }

/* --- コード色（枠線色を変える：次が分かる） --- */
.ch-C  { border-color: rgba(120,200,255,.55); }
.ch-Am { border-color: rgba(140,255,190,.55); }
.ch-F  { border-color: rgba(255,200,120,.55); }
.ch-G  { border-color: rgba(255,140,200,.55); }

/* ready時はさらに強める（色も乗る） */
.ch-C.ready  { box-shadow: 0 0 0 6px rgba(120,200,255,.18), 0 0 22px rgba(120,200,255,.35); }
.ch-Am.ready { box-shadow: 0 0 0 6px rgba(140,255,190,.16), 0 0 22px rgba(140,255,190,.32); }
.ch-F.ready  { box-shadow: 0 0 0 6px rgba(255,200,120,.16), 0 0 22px rgba(255,200,120,.32); }
.ch-G.ready  { box-shadow: 0 0 0 6px rgba(255,140,200,.16), 0 0 22px rgba(255,140,200,.32); }

/* STRUM + NOW/NEXT */
.btn--strum{
  flex: 1 1 auto;
  min-height: 56px;
  font-size: 18px;
  border-radius: 16px;
}

.nextBox{
  flex: 0 0 auto;
  min-width: 210px;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
}

.nowNextRow{
  display:flex;
  gap: 14px;
}

.nnLabel{
  font-size: 12px;
  opacity: .75;
  margin-bottom: 4px;
}

.nnChord{
  font-size: 22px;
  font-weight: 900;
  line-height: 1;
}

/* chord色をNOW/NEXTにも適用 */
.nnChord.ch-C  { color: rgba(170,230,255,.95); }
.nnChord.ch-Am { color: rgba(180,255,215,.95); }
.nnChord.ch-F  { color: rgba(255,220,170,.95); }
.nnChord.ch-G  { color: rgba(255,180,220,.95); }

.tapFlash{
  outline:3px solid rgba(255,255,255,.55);
  box-shadow: 0 0 0 6px rgba(80,200,255,.18);
}
